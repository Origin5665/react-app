(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{394:function(e,t,a){e.exports={usercard:"UserCard_usercard__1Ov5l",usercard__image:"UserCard_usercard__image__hWv1x",usercard__header:"UserCard_usercard__header__2QP2O",usercard__name:"UserCard_usercard__name__3OsZl",usercard__link:"UserCard_usercard__link__24J4H",usercard__text:"UserCard_usercard__text__2QJfF"}},395:function(e,t,a){e.exports={usercard__button:"AddToFriendButton_usercard__button__2ICqp"}},396:function(e,t,a){e.exports={wrapper:"pagination_wrapper__3OAwM"}},397:function(e,t,a){e.exports={users__searchInput:"InputSearch_users__searchInput__2w0rG"}},398:function(e,t,a){e.exports={users__header:"Users_users__header__2V8jE",users__list:"Users_users__list__jQ_io",users__title:"Users_users__title__UPYgB"}},401:function(e,t,a){"use strict";a.r(t);var r=a(8),n=a.n(r),o=a(14),i=a(34),s=a(0),c=a.n(s),u=a(21),l=a(394),d=a.n(l),p=a(162),b=a.n(p),m=a(395),f=a.n(m),g=function(e){var t=e.data,a=e.followingProgress,r=e.subscribeUser,n=e.unsubscribeUser;return c.a.createElement(s.Fragment,null,t.followed?c.a.createElement("button",{className:f.a.usercard__button,disabled:a.some((function(e){return e===t.id})),onClick:function(){return n(t.id)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"):c.a.createElement("button",{className:f.a.usercard__button,disabled:a.some((function(e){return e===t.id})),onClick:function(){return r(t.id)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))},h=function(e){var t=e.data,a=e.followingProgress,r=e.subscribeUser,n=e.unsubscribeUser;return c.a.createElement("li",{className:d.a.usercard},c.a.createElement(u.b,{className:d.a.usercard__link,to:/profile/+t.id},c.a.createElement("div",{className:d.a.usercard__header},c.a.createElement("img",{className:d.a.usercard__image,src:t.photos.small?t.photos.large:b.a,alt:"\u0410\u0432\u0442\u043e\u0440"}),c.a.createElement("h3",{className:d.a.usercard__name},t.name))),c.a.createElement("p",{className:d.a.usercard__text},t.status),c.a.createElement(g,{data:t,followingProgress:a,subscribeUser:r,unsubscribeUser:n}))},v=a(60),_=a(1),y=a(5),C=(a(2),a(12)),O=a(17),x=a(43),w=a(93);function j(e){var t=e.controlled,a=e.default,r=(e.name,e.state,s.useRef(void 0!==t).current),n=s.useState(a),o=n[0],i=n[1];return[r?t:o,s.useCallback((function(e){r||i(e)}),[])]}var P=a(51),k=a(99),E=a(351),N=a(160);function U(e,t){var a=function(t,a){return c.a.createElement(N.a,Object(_.a)({ref:a},t),e)};return a.muiName=N.a.muiName,c.a.memo(c.a.forwardRef(a))}var z=U(s.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"})),S=U(s.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"})),$=U(s.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),B=U(s.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),M=a(48),L=s.forwardRef((function(e,t){var a=e.classes,r=e.className,n=e.color,o=void 0===n?"standard":n,i=e.component,c=e.disabled,u=void 0!==c&&c,l=e.page,d=e.selected,p=void 0!==d&&d,b=e.shape,m=void 0===b?"round":b,f=e.size,g=void 0===f?"medium":f,h=e.type,v=void 0===h?"page":h,O=e.variant,x=void 0===O?"text":O,w=Object(y.a)(e,["classes","className","color","component","disabled","page","selected","shape","size","type","variant"]),j=("rtl"===Object(k.a)().direction?{previous:B,next:$,last:z,first:S}:{previous:$,next:B,first:z,last:S})[v];return"start-ellipsis"===v||"end-ellipsis"===v?s.createElement("div",{ref:t,className:Object(C.a)(a.root,a.ellipsis,u&&a.disabled,"medium"!==g&&a["size".concat(Object(M.a)(g))])},"\u2026"):s.createElement(E.a,Object(_.a)({ref:t,component:i,disabled:u,focusVisibleClassName:a.focusVisible,className:Object(C.a)(a.root,a.page,a[x],a[m],r,"standard"!==o&&a["".concat(x).concat(Object(M.a)(o))],u&&a.disabled,p&&a.selected,"medium"!==g&&a["size".concat(Object(M.a)(g))])},w),"page"===v&&l,j?s.createElement(j,{className:a.icon}):null)})),F=Object(O.a)((function(e){return{root:Object(_.a)({},e.typography.body2,{borderRadius:16,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:e.palette.text.primary}),page:{transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&$focusVisible":{backgroundColor:e.palette.action.focus},"&$selected":{backgroundColor:e.palette.action.selected,"&:hover, &$focusVisible":{backgroundColor:Object(P.b)(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.palette.action.selected}},"&$disabled":{opacity:1,color:e.palette.action.disabled,backgroundColor:e.palette.action.selected}},"&$disabled":{opacity:e.palette.action.disabledOpacity}},sizeSmall:{minWidth:26,height:26,borderRadius:13,margin:"0 1px",padding:"0 4px","& $icon":{fontSize:e.typography.pxToRem(18)}},sizeLarge:{minWidth:40,height:40,borderRadius:20,padding:"0 10px",fontSize:e.typography.pxToRem(15),"& $icon":{fontSize:e.typography.pxToRem(22)}},textPrimary:{"&$selected":{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover, &$focusVisible":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}},"&$disabled":{color:e.palette.action.disabled}}},textSecondary:{"&$selected":{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover, &$focusVisible":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}},"&$disabled":{color:e.palette.action.disabled}}},outlined:{border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$selected":{"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}}},outlinedPrimary:{"&$selected":{color:e.palette.primary.main,border:"1px solid ".concat(Object(P.b)(e.palette.primary.main,.5)),backgroundColor:Object(P.b)(e.palette.primary.main,e.palette.action.activatedOpacity),"&:hover, &$focusVisible":{backgroundColor:Object(P.b)(e.palette.primary.main,e.palette.action.activatedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}},outlinedSecondary:{"&$selected":{color:e.palette.secondary.main,border:"1px solid ".concat(Object(P.b)(e.palette.secondary.main,.5)),backgroundColor:Object(P.b)(e.palette.secondary.main,e.palette.action.activatedOpacity),"&:hover, &$focusVisible":{backgroundColor:Object(P.b)(e.palette.secondary.main,e.palette.action.activatedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}},rounded:{borderRadius:e.shape.borderRadius},ellipsis:{height:"auto","&$disabled":{opacity:e.palette.action.disabledOpacity}},focusVisible:{},disabled:{},selected:{},icon:{fontSize:e.typography.pxToRem(20),margin:"0 -8px"}}}),{name:"MuiPaginationItem"})(L);function I(e,t,a){return"page"===e?"".concat(a?"":"Go to ","page ").concat(t):"Go to ".concat(e," page")}var R=s.forwardRef((function(e,t){e.boundaryCount;var a=e.classes,r=e.className,n=e.color,o=void 0===n?"standard":n,i=(e.count,e.defaultPage,e.disabled,e.getItemAriaLabel),c=void 0===i?I:i,u=(e.hideNextButton,e.hidePrevButton,e.onChange,e.page,e.renderItem),l=void 0===u?function(e){return s.createElement(F,e)}:u,d=e.shape,p=void 0===d?"round":d,b=(e.showFirstButton,e.showLastButton,e.siblingCount,e.size),m=void 0===b?"medium":b,f=e.variant,g=void 0===f?"text":f,h=Object(y.a)(e,["boundaryCount","classes","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"]),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.boundaryCount,a=void 0===t?1:t,r=e.componentName,n=void 0===r?"usePagination":r,o=e.count,i=void 0===o?1:o,s=e.defaultPage,c=void 0===s?1:s,u=e.disabled,l=void 0!==u&&u,d=e.hideNextButton,p=void 0!==d&&d,b=e.hidePrevButton,m=void 0!==b&&b,f=e.onChange,g=e.page,h=e.showFirstButton,v=void 0!==h&&h,C=e.showLastButton,O=void 0!==C&&C,P=e.siblingCount,k=void 0===P?1:P,E=Object(y.a)(e,["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"]),N=j({controlled:g,default:c,name:n,state:"page"}),U=Object(w.a)(N,2),z=U[0],S=U[1],$=function(e,t){g||S(t),f&&f(e,t)},B=function(e,t){var a=t-e+1;return Array.from({length:a},(function(t,a){return e+a}))},M=B(1,Math.min(a,i)),L=B(Math.max(i-a+1,a+1),i),F=Math.max(Math.min(z-k,i-a-2*k-1),a+2),I=Math.min(Math.max(z+k,a+2*k+2),L[0]-2),R=[].concat(Object(x.a)(v?["first"]:[]),Object(x.a)(m?[]:["previous"]),Object(x.a)(M),Object(x.a)(F>a+2?["start-ellipsis"]:a+1<i-a?[a+1]:[]),Object(x.a)(B(F,I)),Object(x.a)(I<i-a-1?["end-ellipsis"]:i-a>a?[i-a]:[]),Object(x.a)(L),Object(x.a)(p?[]:["next"]),Object(x.a)(O?["last"]:[])),A=function(e){switch(e){case"first":return 1;case"previous":return z-1;case"next":return z+1;case"last":return i;default:return null}},V=R.map((function(e){return"number"===typeof e?{onClick:function(t){$(t,e)},type:"page",page:e,selected:e===z,disabled:l,"aria-current":e===z?"true":void 0}:{onClick:function(t){$(t,A(e))},type:e,page:A(e),selected:!1,disabled:l||-1===e.indexOf("ellipsis")&&("next"===e||"last"===e?z>=i:z<=1)}}));return Object(_.a)({items:V},E)}(Object(_.a)({},e,{componentName:"Pagination"})).items;return s.createElement("nav",Object(_.a)({"aria-label":"pagination navigation",className:Object(C.a)(a.root,r),ref:t},h),s.createElement("ul",{className:a.ul},v.map((function(e,t){return s.createElement("li",{key:t},l(Object(_.a)({},e,{color:o,"aria-label":c(e.type,e.page,e.selected),shape:p,size:m,variant:g})))}))))})),A=Object(O.a)({root:{},ul:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}},{name:"MuiPagination"})(R),V=a(161),W=a(396),T=a.n(W),Q=function(e){var t=e.totalCount,a=e.pageSize,r=e.getCurrentPage,n=Math.ceil(t/a),o=Object(V.useMediaQuery)({minWidth:1024}),i=Object(V.useMediaQuery)({minWidth:414,maxWidth:1024}),s=Object(V.useMediaQuery)({minWidth:320,maxWidth:414});return c.a.createElement(A,{className:T.a.wrapper,variant:"outlined",color:"primary",size:o?"large":i?"medium":s?"small":void 0,count:n,onChange:function(e,t){return r(t)}})},J=a(397),G=a.n(J),q=function(e){var t=e.data,a=e.setFilteredUsers,r=c.a.useState(""),n=Object(i.a)(r,2),o=n[0],s=n[1];return c.a.useEffect((function(){return a(t.filter((function(e){return e.name.toLowerCase().includes(o.toLowerCase())})))}),[o,t]),c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{className:G.a.users__searchInput,value:o,onChange:function(e){return s(e.target.value)},placeholder:"\u041f\u043e\u0438\u0441\u043a \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432"}))},D=a(398),H=a.n(D),Y=function(e){var t=e.subscribeUser,a=e.unsubscribeUser,r=e.totalCount,n=e.pageSize,o=e.getCurrentPage,s=e.data,u=e.followingProgress,l=e.loader,d=c.a.useState([]),p=Object(i.a)(d,2),b=p[0],m=p[1],f=b.map((function(e,r){return c.a.createElement(h,{key:r,data:e,subscribeUser:t,unsubscribeUser:a,followingProgress:u})}));return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:H.a.users__header},c.a.createElement("h2",{className:H.a.users__title},"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"),c.a.createElement(q,{data:s,setFilteredUsers:m}),c.a.createElement(Q,{totalCount:r,getCurrentPage:o,pageSize:n})),l?c.a.createElement(v.a,null):c.a.createElement("ul",{className:H.a.users__list},f))},K=a(16),Z=a(11),X=a(90),ee=a(128),te=a(9),ae=function(e){return{type:te.p,userID:e}},re=function(e){return{type:te.q,userID:e}},ne=function(e,t){return{type:te.d,state:e,userId:t}},oe=a(59),ie=a.n(oe).a.create({withCredentials:!0,headers:{"API-KEY":"c7396936-96da-47b7-b8e8-a78259e1e0e5"},baseURL:te.c}),se={outFollow:function(e){return ie.delete("follow/".concat(e)).then((function(e){return e.data}))},getFollow:function(e){return ie.post("follow/".concat(e)).then((function(e){return e.data}))}},ce=function(){var e=Object(o.a)(n.a.mark((function e(t,a,r,o){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ne(!0,a)),e.next=3,r(a);case 3:0===e.sent.resultCode&&t(o(a)),t(ne(!1,a));case 6:case"end":return e.stop()}}),e)})));return function(t,a,r,n){return e.apply(this,arguments)}}();function ue(e,t){return e===t}function le(e,t,a){if(null===t||null===a||t.length!==a.length)return!1;for(var r=t.length,n=0;n<r;n++)if(!e(t[n],a[n]))return!1;return!0}function de(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var a=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+a+"]")}return t}var pe=function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=0,i=r.pop(),s=de(r),c=e.apply(void 0,[function(){return o++,i.apply(null,arguments)}].concat(a)),u=e((function(){for(var e=[],t=s.length,a=0;a<t;a++)e.push(s[a].apply(null,arguments));return c.apply(null,e)}));return u.resultFunc=i,u.dependencies=s,u.recomputations=function(){return o},u.resetRecomputations=function(){return o=0},u}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue,a=null,r=null;return function(){return le(t,a,arguments)||(r=e.apply(null,arguments)),a=arguments,r}}));var be=pe((function(e){return e.users.users}),(function(e){return e.filter((function(e){return!0}))})),me=function(e){return e.users.pageSize},fe=function(e){return e.users.totalCount},ge=function(e){return e.users.currentPage},he=function(e){return e.users.followingProgress},ve={subscribeUser:function(e){return function(){var t=Object(o.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ce(a,e,se.getFollow.bind(e),ae);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:function(e){return{type:te.j,currentPage:e}},setFollowingState:ne,getUsersProfile:function(e,t){return function(){var a=Object(o.a)(n.a.mark((function a(r){var o;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ee.a.getUsers(e,t);case 2:o=a.sent,r((i=o.items,{type:te.n,users:i})),r((n=o.totalCount,{type:te.l,count:n}));case 5:case"end":return a.stop()}var n,i}),a)})));return function(e){return a.apply(this,arguments)}}()},unsubscribeUser:function(e){return function(){var t=Object(o.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ce(a,e,se.outFollow.bind(e),re);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},_e=Object(Z.d)(Object(K.b)((function(e){return{data:be(e),totalCount:fe(e),pageSize:me(e),currentPage:ge(e),followingProgress:he(e),portionSize:e.users.portionSize}}),ve),X.a)((function(e){var t=c.a.useState(!1),a=Object(i.a)(t,2),r=a[0],s=a[1];c.a.useEffect((function(){(function(){var t=Object(o.a)(n.a.mark((function t(){var a,r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),a=e.currentPage,r=e.pageSize,t.next=4,e.getUsersProfile(a,r);case 4:s(!1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);return c.a.createElement(Y,{followingCreator:e.followingCreator,totalCount:e.totalCount,pageSize:e.pageSize,currentPage:e.currentPage,getCurrentPage:function(t){var a=e.pageSize;e.setCurrentPage(t),e.getUsersProfile(t,a)},data:e.data,followingProgress:e.followingProgress,subscribeUser:e.subscribeUser,unsubscribeUser:e.unsubscribeUser,loader:r})}));t.default=_e}}]);
//# sourceMappingURL=4.93487401.chunk.js.map