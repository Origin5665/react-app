(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[5],{327:function(e,r,t){e.exports={users__wrapper:"Users_users__wrapper__3FeSH",users__list:"Users_users__list__2taTu",users__pagContainer:"Users_users__pagContainer__3qaDu",users__pagination:"Users_users__pagination__23X9Q",users__title:"Users_users__title__1oJTB",users__headerWrapper:"Users_users__headerWrapper__wtKLW"}},328:function(e,r,t){e.exports={user__wrapper:"User_user__wrapper__3yM9v",user__image:"User_user__image__3jX-w",users__list:"User_users__list__3MpPf",user__city:"User_user__city__X1DNP",user__country:"User_user__country__1xMLj",user__status:"User_user__status__1QyLD",user__name:"User_user__name__1bnAN",user__button:"User_user__button__3oQlr",user__buttonDis:"User_user__buttonDis__z2iBH"}},329:function(e,r,t){e.exports={users__page:"pagination_users__page__9TIYf",users__page_active:"pagination_users__page_active__3s_Jy",wrapper:"pagination_wrapper__3OAwM"}},349:function(e,r,t){"use strict";t.r(r);var n=t(28),a=t(30),s=t(29),o=t(0),u=t.n(o),i=t(327),c=t.n(i),_=t(17),l=t(328),p=t.n(l),g=t(134),f=t.n(g),m=function(e){var r=e.data,t=e.followingProgress,n=e.followingCreator,a=e.outFollowingCreator;return u.a.createElement("li",{className:p.a.user__wrapper},u.a.createElement(_.b,{to:/profile/+r.id},u.a.createElement("div",{className:p.a.user__photoContainer},u.a.createElement("img",{className:p.a.user__image,src:r.photos.small?r.photos.large:f.a,alt:"\u0410\u0432\u0442\u043e\u0440"}))),u.a.createElement("div",{className:p.a.users__wrapperInfo},u.a.createElement("h3",{className:p.a.user__name},r.name),u.a.createElement("p",{className:p.a.user__status},r.status)),r.followed?u.a.createElement("button",{disabled:t.some((function(e){return e===r.id})),onClick:function(){return a(r.id)},className:t.some((function(e){return e===r.id}))?p.a.user__buttonDis:p.a.user__button},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"):u.a.createElement("button",{disabled:t.some((function(e){return e===r.id})),onClick:function(){return n(r.id)},className:t.some((function(e){return e===r.id}))?p.a.user__buttonDis:p.a.user__button},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))},w=t(44),b=t(93),d=t(329),C=t.n(d),h=t(92),v=t(330),P=t(331),S=t(348),y=function(e){var r=e.totalCount,t=e.pageSize,n=e.currentPage,a=e.getCurrentPage,s=e.portionSize;console.log(s);for(var i=Math.ceil(r/t),c=[],_=1;_<=i;_++)c.push(_);var l=Math.ceil(i/s),p=Object(o.useState)(Math.ceil(n/s)),g=Object(b.a)(p,2),f=g[0],m=g[1],w=(f-1)*s+1,d=f*s,y=c.filter((function(e){return e>=w&&e<=d})).map((function(e,r){return u.a.createElement("button",{onClick:function(){return a(e)},key:r,className:n===e?C.a.users__page+" "+C.a.users__page_active:C.a.users__page},e)}));return u.a.createElement("div",{className:C.a.wrapper},f>1?u.a.createElement(S.a,{color:"primary",onClick:function(){return m(f-1)}},u.a.createElement(h.Icon,{size:32,icon:P.arrowLeftThick})):null,y,f>=l?null:u.a.createElement(S.a,{color:"primary",onClick:function(){return m(f+1)}}," ",u.a.createElement(h.Icon,{size:32,icon:v.arrowRightThick})))},E=function(e){var r=e.followingCreator,t=e.outFollowingCreator,n=e.totalCount,a=e.pageSize,s=e.currentPage,o=e.getCurrentPage,i=e.data,_=e.currentState,l=e.followingProgress,p=e.portionSize,g=i.map((function(e,n){return u.a.createElement(m,{key:n,data:e,followingCreator:r,outFollowingCreator:t,followingProgress:l})}));return u.a.createElement("div",{className:c.a.users__wrapper},u.a.createElement("div",{className:c.a.users__headerWrapper},u.a.createElement("h2",{className:c.a.users__title},"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"),_?u.a.createElement(w.a,null):null),u.a.createElement("div",{className:c.a.users__pagContainer},u.a.createElement(y,{totalCount:n,getCurrentPage:o,pageSize:a,currentPage:s,portionSize:p})),u.a.createElement("ul",{className:c.a.users__list},g))},U=t(12),z=t(13),k=t.n(z),N=t(21),j=t(42),O=t.n(j),x=t(8),D=O.a.create({withCredentials:!0,headers:{"API-KEY":"c7396936-96da-47b7-b8e8-a78259e1e0e5"},baseURL:x.c}),F=function(e){return D.delete("follow/".concat(e)).then((function(e){return e.data}))},I=function(e){return D.post("follow/".concat(e)).then((function(e){return e.data}))},M=function(e){return{type:x.m,userID:e}},T=function(e){return{type:x.n,userID:e}},L=function(e){return{type:x.f,currentState:e}},A=function(e,r){return{type:x.d,state:e,userId:r}},J=t(103),W=t(102),Q=t(9),X=t(335),B=Object(X.a)((function(e){return e.users.users}),(function(e){return e.filter((function(e){return!0}))})),H=function(e){return e.users.pageSize},K=function(e){return e.users.totalCount},R=function(e){return e.users.currentPage},Y=function(e){return e.users.currentState},q=function(e){return e.users.followingProgress},G=function(e){Object(a.a)(t,e);var r=Object(s.a)(t);function t(){var e;Object(n.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=r.call.apply(r,[this].concat(s))).componentDidMount=function(){var r=e.props,t=r.currentPage,n=r.pageSize;e.props.getUsersThunkCreator(t,n)},e.getCurrentPage=function(r){var t=e.props.pageSize;e.props.setCurrentPage(r),e.props.getUsersThunkCreator(r,t)},e.render=function(){return u.a.createElement(E,{followingCreator:e.props.followingCreator,totalCount:e.props.totalCount,pageSize:e.props.pageSize,currentPage:e.props.currentPage,subscribe:e.props.subscribe,unsubscribe:e.props.unsubscribe,getCurrentPage:e.getCurrentPage,data:e.props.data,currentState:e.props.currentState,followingProgress:e.props.followingProgress,setFollowingState:e.props.setFollowingState,outFollowingCreator:e.props.outFollowingCreator,portionSize:e.props.portionSize})},e}return t}(u.a.Component),V=Object(Q.d)(Object(U.b)((function(e){return{data:B(e),totalCount:K(e),pageSize:H(e),currentPage:R(e),currentState:Y(e),followingProgress:q(e),portionSize:e.users.portionSize}}),{followingCreator:function(e){return function(){var r=Object(N.a)(k.a.mark((function r(t){return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t(A(!0,e)),r.next=3,I(e);case 3:0===r.sent.resultCode&&t(M(e)),t(A(!1,e));case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},subscribe:M,unsubscribe:T,setCurrentPage:function(e){return{type:x.h,currentPage:e}},setFollowingState:A,getUsersThunkCreator:function(e,r){return function(){var t=Object(N.a)(k.a.mark((function t(n){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(L(!0)),t.next=3,J.a.getUsers(e,r);case 3:a=t.sent,n((o=a.items,{type:x.k,users:o})),n(L(!1)),n((s=a.totalCount,{type:x.i,count:s}));case 7:case"end":return t.stop()}var s,o}),t)})));return function(e){return t.apply(this,arguments)}}()},outFollowingCreator:function(e){return function(){var r=Object(N.a)(k.a.mark((function r(t){return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t(A(!0,e)),r.next=3,F(e);case 3:0===r.sent.resultCode&&t(T(e)),t(A(!1,e));case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}}),W.a)(G);r.default=V}}]);
//# sourceMappingURL=5.9076c904.chunk.js.map